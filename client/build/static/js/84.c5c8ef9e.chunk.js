"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[84],{4084:function(e,r,t){t.r(r);var s=t(4165),n=t(1413),a=t(5861),o=t(9439),c=t(2791),u=t(7689),i=t(890),d=t(7391),l=t(4294),p=t(3239),f=t(184);r.default=function(){(0,c.useEffect)((function(){document.title="Reset Your Password - Herba Naturals Account Assistance",document.querySelector('meta[name="description"]').setAttribute("content","Easily reset your Herba Naturals account password. Secure and efficient password recovery for uninterrupted access to our CBD products.")}),[]);var e=(0,c.useState)(""),r=(0,o.Z)(e,2),t=r[0],m=r[1],h=(0,c.useState)(""),w=(0,o.Z)(h,2),x=w[0],Z=w[1],g=(0,c.useState)(""),b=(0,o.Z)(g,2),y=b[0],v=b[1],P=(0,c.useState)(!1),k=(0,o.Z)(P,2),j=k[0],S=k[1],C=(0,c.useState)({}),E=(0,o.Z)(C,2),T=E[0],A=E[1],N=(0,u.UO)().token,W=(0,u.s0)(),q=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),v(""),A({}),t.length<8?A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:"Password must be at least 8 characters long"})})):/[A-Z]/.test(t)&&/[0-9]/.test(t)||A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:"Password must contain at least one uppercase letter, and one number"})})),t===x){e.next=7;break}return A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{confirmPassword:"Passwords do not match"})})),e.abrupt("return");case 7:return e.prev=7,S(!0),e.next=11,fetch("http://localhost:8000/api/reset-password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:N,password:t})});case 11:return a=e.sent,e.next=14,a.json();case 14:if(o=e.sent,S(!1),!a.ok){e.next=21;break}v("Password has been reset successfully!"),setTimeout((function(){return W("/login")}),2e3),e.next=23;break;case 21:throw A({password:o.message||"Error occurred"}),new Error(o.message||"Error occurred");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(7),S(!1),A({password:e.t0.message||"Error occurred"});case 29:case"end":return e.stop()}}),e,null,[[7,25]])})));return function(r){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",maxWidth:"400px",margin:"auto",marginTop:"50px",marginBottom:"50px"},children:[(0,f.jsx)(i.Z,{variant:"h5",component:"h1",align:"center",children:"Reset Password"}),(0,f.jsxs)("form",{onSubmit:q,children:[(0,f.jsx)(d.Z,{name:"password",label:"New Password",type:"password",value:t,onChange:function(e){return m(e.target.value)},fullWidth:!0,margin:"normal",required:!0,error:!!T.password,helperText:T.password}),(0,f.jsx)(d.Z,{name:"confirmPassword",label:"Confirm Password",type:"password",value:x,onChange:function(e){return Z(e.target.value)},fullWidth:!0,margin:"normal",required:!0,error:!!T.confirmPassword,helperText:T.confirmPassword}),(0,f.jsx)(l.Z,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",disabled:j,sx:{mt:2,height:"50px"},children:j?(0,f.jsx)(p.Z,{size:24}):"Reset Password"}),y&&(0,f.jsx)(i.Z,{style:{color:"#30842E"},mt:2,children:y})]})]})}}}]);
//# sourceMappingURL=84.c5c8ef9e.chunk.js.map