"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[592],{8592:function(e,r,t){t.r(r),t.d(r,{default:function(){return Ae}});var n=t(9439),i=t(2791),o=t(4852),s=t(4294),l=t(7064),a=t(9900),c=t(4395),d=t(4663),u=t(3400),h=t(890),x=t(6029),m=t(1976),f=t(3786),p=t(9164),j=t(1889),Z=t(5527),g=t(3974),v=t(493),b=t(9952),y=t(8008),C=t(1413),w=t(3433),S=t(3239),A=t(4165),D=t(5861),k=t(4942),P=t(5351),N=t(4070),E=t(5289),F=t(5661),W=t(9157),O=t(1691),L=t(7391),B=t(7123),z=t(8096),I=t(7133),T=t(1918),_=t(184),R=function(e){var r=e.category,t=e.onAddCategory,o=e.onRemoveCategory,l=e.error,a=(0,i.useState)(""),c=(0,n.Z)(a,2),d=c[0],u=c[1],m=(0,i.useState)(l),f=(0,n.Z)(m,2),p=f[0],j=f[1];return(0,i.useEffect)((function(){j(l)}),[l]),(0,_.jsxs)(z.Z,{sx:{width:"97%",pl:1,py:1,pr:1,border:1,borderRadius:1,borderColor:p?function(e){return e.palette.error.main}:"black","&:hover":{borderColor:p?function(e){return e.palette.error.main}:"#1776D1","& .form-label-sx":{color:p?function(e){return e.palette.error.main}:"#1776D1",transition:"color 0.4s, "}},"&:not(:hover)":{"& .form-label-sx":{color:p?function(e){return e.palette.error.main}:"initial",transition:"color 0.4s, "}}},name:"category-input",component:"fieldset",children:[(0,_.jsx)(I.Z,{name:"category-input",id:"category-input",component:"legend",className:"form-label-sx",sx:{fontSize:16},children:"Add product categories.*"}),(0,_.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(L.Z,{name:"categories",spellCheck:!0,autoCorrect:"false",label:"Categories*",value:d,error:Boolean(p),onChange:function(e){return u(e.target.value)}}),(0,_.jsx)(s.Z,{sx:{fontSize:10,m:2},variant:"outlined",color:p?"error":"primary",onClick:function(){if(""!==d.trim()){var e=d.trim().toLowerCase();r.includes(e)?j("Category already exists"):(t(e),j(null)),u("")}else j("Category name cannot be empty")},children:"Add"})]}),(0,_.jsxs)(x.Z,{children:[r.map((function(e,r){return(0,_.jsx)(T.Z,{sx:{m:1,"&:hover":{borderColor:"red"}},size:"small",label:e,onDelete:function(){return o(e)},color:"secondary",variant:"outlined"},r)})),(0,_.jsx)(h.Z,{variant:"caption",color:"error",children:p})]})]})},M=t(9596),H=t(6934),K=function(e){var r=e.error,t=e.loading,n=e.selectedImage,i=e.selectedImageData,o=e.handleImage,l=e.setSelectedImageData,a={display:"inline-flex",flexDirection:"column",alignItems:"center",margin:"5px"},c=(0,H.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return(0,_.jsxs)(z.Z,{sx:{width:"97%",fontSize:8,my:2,pl:1,py:1,pr:1,border:1,borderRadius:1,borderColor:r.imgSource?function(e){return e.palette.error.main}:"black","&:hover":{borderColor:r.imgSource?function(e){return e.palette.error.main}:"#1776D1","& .MuiFormLabel-root":{color:r.imgSource?function(e){return e.palette.error.main}:"#1776D1",transition:"color 0.4s, "}}," &:not(:hover)":{"& .MuiFormLabel-root":{color:r.imgSource?function(e){return e.palette.error.main}:"initial",transition:"color 0.4s, "}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{component:"legend",sx:{fontSize:16,pr:.5,pl:.5,color:r.imgSource?function(e){return e.palette.error.main}:"initial"},children:" Upload an image*"}),(0,_.jsxs)(x.Z,{children:[(0,_.jsxs)(s.Z,{accept:"image/*",id:"image-upload",component:"label",variant:"outlined",startIcon:(0,_.jsx)(M.Z,{}),sx:{my:1},color:r.imgSource?"error":"primary",disabled:t||i&&i.length>=5,children:[t?(0,_.jsx)(S.Z,{size:24,color:"inherit"}):"Add image",(0,_.jsx)(c,{accept:"image/*",id:"image-upload",type:"file",multiple:!0,onChange:o})]}),i&&i.length>=5&&(0,_.jsx)(h.Z,{variant:"caption",sx:{ml:1.2},color:"textSecondary",children:"Max 5 photos"}),n?(0,_.jsxs)(h.Z,{variant:"body2",color:"textSecondary",children:["Selected image(s): ",n.name]}):(0,_.jsx)(x.Z,{children:(0,_.jsx)(h.Z,{variant:"body2",color:"textSecondary",children:"Uploaded Image(s)"})}),r.imgSource&&(0,_.jsx)(h.Z,{variant:"caption",sx:{ml:1.2},color:"error",children:r.imgSource}),(0,_.jsx)(x.Z,{sx:{display:"flex",overflowX:"auto",gap:"10px"},children:i&&i.length>0?i.map((function(e,r){return(0,_.jsxs)("div",{style:a,children:[(0,_.jsx)("img",{src:e,alt:"Selected Thumbnail ".concat(r+1),style:{maxWidth:"100px",maxHeight:"100px",minWidth:"100px",minHeight:"100px",border:".5px solid black"},loading:"lazy"}),(0,_.jsx)(s.Z,{size:"small",variant:"text",onClick:function(){return function(e){var r=i.filter((function(r,t){return t!==e}));l(r)}(r)},sx:{marginTop:"5px"},children:"Remove"})]},r)})):(0,_.jsx)(h.Z,{sx:{m:1},variant:"caption",color:"textSecondary",children:"Preview will appear here after selecting an image."})})]})]})},U=t(765),V=t(4989),$=t(1419),G=function(e){var r=e.selectedStrength,t=e.handleStrengthChange,n=e.productData,i=e.handleChange,o=e.error;return(0,_.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:{sm:"row",xs:"column"}},children:[(0,_.jsxs)(z.Z,{sx:{my:4,pl:1,pb:1,border:1,borderRadius:1,borderColor:"#CACACA","&:hover":{borderColor:"black","& .form-label-sx":{color:"#1776D1",transition:"color 0.4s, "}}," &:not(:hover)":{"& .form-label-sx":{color:"initial",transition:"color 0.4s, "}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{sx:{fontSize:16,pr:.5,pl:.5},className:"form-label-sx",component:"legend",children:"Strength"}),(0,_.jsxs)(U.Z,{row:!0,"aria-label":"strength",name:"strength",value:r,onChange:t,children:[(0,_.jsx)(V.Z,{value:"low",control:(0,_.jsx)($.Z,{}),label:"Low"}),(0,_.jsx)(V.Z,{value:"medium",control:(0,_.jsx)($.Z,{}),label:"Medium"}),(0,_.jsx)(V.Z,{value:"high",control:(0,_.jsx)($.Z,{}),label:"High"})]}),o&&(0,_.jsx)(h.Z,{variant:"caption",sx:{ml:1.2},color:"error",children:o.strength})]}),(0,_.jsx)(x.Z,{sx:{display:"flex",justifyContent:"end"},children:(0,_.jsxs)(z.Z,{sx:{pl:1,pr:3,pb:1,border:1,borderRadius:1,borderColor:"#CACACA","&:hover":{borderColor:"black","& .form-label-sx":{color:"#1776D1",transition:"color 0.4s"}}," &:not(:hover)":{"& .form-label-sx":{color:"initial",transition:"color 0.4s"}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{sx:{fontSize:16,pl:.5},className:"form-label-sx",component:"legend",children:"Feature on Home page?"}),(0,_.jsxs)(U.Z,{row:!0,"aria-label":"isFeatured",name:"isFeatured",value:Boolean(n.isFeatured),onChange:i,children:[(0,_.jsx)(V.Z,{value:Boolean(!0),control:(0,_.jsx)($.Z,{}),label:"Yes"}),(0,_.jsx)(V.Z,{value:Boolean(!1),control:(0,_.jsx)($.Z,{}),label:"No"})]})]})})]})},J=function(e){var r=e.seoKeywords,t=e.onAddKeyword,o=e.onRemoveKeyword,l=(0,i.useState)(""),a=(0,n.Z)(l,2),c=a[0],d=a[1];return(0,_.jsxs)(z.Z,{sx:{width:"97%",pl:1,py:1,pr:1,border:1,borderRadius:1,borderColor:"#CACACA","&:hover":{borderColor:"black","& .form-label-sx1":{color:"#1776D1",transition:"color 0.4s, "}}," &:not(:hover)":{"& .form-label-sx1":{color:"initial",transition:"color 0.4s,"}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{className:"form-label-sx1",sx:{fontSize:16},component:"legend",children:"Add SEO keywords."}),(0,_.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(L.Z,{spellCheck:!0,label:"Keywords",name:"keywords",value:c,onChange:function(e){return d(e.target.value)}}),(0,_.jsx)(s.Z,{sx:{fontSize:10,m:2},variant:"outlined",color:"primary",onClick:function(){if(""!==c.trim()){var e=c.trim().toLowerCase();r.includes(e)||t(e),d("")}},children:"Add"})]}),(0,_.jsx)(x.Z,{children:r.map((function(e,r){return(0,_.jsx)(T.Z,{sx:{m:1,"&:hover":{borderColor:"red"}},size:"small",label:e,onDelete:function(){return o(e)},color:"secondary",variant:"outlined"},r)}))})]})},Q=function(e){var r=e.productData,t=e.handleChange,n=e.handleAddKeyword,i=e.handleRemoveKeyword;return(0,_.jsxs)(z.Z,{sx:{width:"97%",my:2,pl:1,py:1,pr:1,border:1,borderRadius:1,borderColor:"#CACACA","&:hover":{borderColor:"black","& .form-label-sx":{color:"#1776D1",transition:"color 0.4s, "}}," &:not(:hover)":{"& .form-label-sx":{color:"initial",transition:"color 0.4s, "}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{className:"form-label-sx",component:"legend",children:"   Search Engine Optimization (Optional)"}),(0,_.jsxs)(x.Z,{sx:{},children:[(0,_.jsx)(L.Z,{sx:{my:2},name:"seo.title",label:"SEO Title",fullWidth:!0,value:r.seo.title?r.seo.title:"",onChange:t}),(0,_.jsx)(L.Z,{sx:{my:2},name:"seo.description",label:"SEO Description",fullWidth:!0,multiline:!0,rows:2,value:r.seo.description,onChange:t}),(0,_.jsx)(J,{seoKeywords:r.seoKeywords,onAddKeyword:n,onRemoveKeyword:i})]})]})},Y=function(e){var r=e.weight,t=e.length,n=e.width,i=e.height,o=e.handleChange;return(0,_.jsxs)(z.Z,{sx:{width:"97%",pl:1,py:1,pr:1,border:1,borderRadius:1,borderColor:"#CACACA","&:hover":{borderColor:"black","& .form-label-sx":{color:"#1776D1",transition:"color 0.4s, "}}," &:not(:hover)":{"& .form-label-sx":{color:"initial",transition:"color 0.4s"}}},component:"fieldset",children:[(0,_.jsx)(I.Z,{className:"form-label-sx",sx:{fontSize:16},component:"legend",children:"Shipping Details (Optional)."}),(0,_.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",flexDirection:{sm:"row",xs:"column"}},children:[(0,_.jsx)(L.Z,{sx:{my:2},name:"shipping.weight",label:"Weight (oz)",type:"number",fullWidth:!0,value:r,onChange:o,onWheel:function(e){return e.target.blur()}}),(0,_.jsx)(L.Z,{sx:{my:2},name:"shipping.dimensions.length",label:"Length (in)",type:"number",fullWidth:!0,value:t,onChange:o,onWheel:function(e){return e.target.blur()}}),(0,_.jsx)(L.Z,{sx:{my:2},name:"shipping.dimensions.width",label:"Width (in)",type:"number",fullWidth:!0,value:n,onChange:o,onWheel:function(e){return e.target.blur()}}),(0,_.jsx)(L.Z,{sx:{my:2},name:"shipping.dimensions.height",label:"Height (in)",type:"number",fullWidth:!0,value:i,onChange:o,onWheel:function(e){return e.target.blur()}})]})]})},q={brand:"",name:"",price:"",specs:"",totalSold:0,imgSource:[],category:[],description:"",strength:"low",isFeatured:!1,flavor:"",seo:{title:"",description:""},seoKeywords:[],shipping:{weight:0,dimensions:{length:0,width:0,height:0}}},X=function(e){var r=e.open,t=e.onClose,o=e.onAddProduct,l=e.selectedProduct,a=e.onUpdateProduct,c=(0,i.useState)(l||q),d=(0,n.Z)(c,2),u=d[0],h=d[1],x=(0,i.useState)(!1),m=(0,n.Z)(x,2),f=m[0],p=m[1],j=(0,i.useState)({}),Z=(0,n.Z)(j,2),g=Z[0],v=Z[1],b=(0,i.useState)([]),y=(0,n.Z)(b,2),z=y[0],I=y[1],T=(0,i.useState)([]),M=(0,n.Z)(T,2),H=M[0],U=M[1],V=(0,i.useState)("low"),$=(0,n.Z)(V,2),J=$[0],X=$[1],ee=(0,i.useState)(!1),re=(0,n.Z)(ee,2),te=(re[0],re[1]),ne=(0,i.useState)(!1),ie=(0,n.Z)(ne,2),oe=ie[0],se=ie[1],le=(0,i.useState)(""),ae=(0,n.Z)(le,2),ce=ae[0],de=ae[1],ue=function(e){var r=Object.values(e)[0];de(r),se(!0)},he=function(){h(q),v({}),I([]),U([]),X("low"),p(!1)};(0,i.useEffect)((function(){h((function(e){return(0,C.Z)((0,C.Z)({},e),{},{imgSource:H.map((function(e){if("string"===typeof e){var r=l?l.imgSource.find((function(r){return r.url===e})):null;return{url:e,publicId:r?r.publicId:void 0}}return e}))})}))}),[H,l]),(0,i.useEffect)((function(){l?(h(l),X(l.strength),l.imgSource&&l.imgSource.length>0?U(l.imgSource.map((function(e){return e.url}))):U([])):(h(q),U([]))}),[l]);var xe=function(e){var r=e.target,t=r.name,n=r.value;if(t.startsWith("seo.")){var i=t.replace("seo.","");h((0,C.Z)((0,C.Z)({},u),{},{seo:(0,C.Z)((0,C.Z)({},u.seo),{},(0,k.Z)({},i,n))}))}else if(t.startsWith("shipping.")){if("shipping.weight"===t)h((0,C.Z)((0,C.Z)({},u),{},{shipping:(0,C.Z)((0,C.Z)({},u.shipping),{},{weight:n})}));else if(t.startsWith("shipping.dimensions.")){var o=t.replace("shipping.dimensions.","");h((0,C.Z)((0,C.Z)({},u),{},{shipping:(0,C.Z)((0,C.Z)({},u.shipping),{},{dimensions:(0,C.Z)((0,C.Z)({},u.shipping.dimensions),{},(0,k.Z)({},o,n))})}))}}else if("category"===t){var s=n.toLowerCase().replace(/\s/g,"");h((0,C.Z)((0,C.Z)({},u),{},(0,k.Z)({},t,s)))}else if("isFeatured"===t){var l="true"===n;h((0,C.Z)((0,C.Z)({},u),{},(0,k.Z)({},t,l)))}else h((0,C.Z)((0,C.Z)({},u),{},(0,k.Z)({},t,n)))},me="http://localhost:8000/api/product/",fe={"Content-Type":"application/json"},pe=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(){var r,t,n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),r=je(),t=l?"".concat(me).concat(l._id):me,n=l?"PUT":"POST",e.next=7,ve(t,n,r);case 7:return i=e.sent,e.next=10,be(i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error adding/updating product:",e.t0);case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,C.Z)((0,C.Z)({},u),{},{strength:J}),r=l?Ze():ge();return e.imgSource=r||[],e},Ze=function(){if(Array.isArray(H)&&H.length)return H.map((function(e){var r=l.imgSource.find((function(r){return r.url===e}));return{url:e,publicId:r?r.publicId:void 0}}))},ge=function(){if(Array.isArray(H)&&H.length)return H.map((function(e){return{url:e}}))},ve=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(r,t,n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(r,{method:t,headers:fe,credentials:"include",body:JSON.stringify(n)}));case 1:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),be=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(r){var n,i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.ok){e.next=9;break}return e.next=3,r.json();case 3:n=e.sent,l?a(n):o(n),he(),t(),e.next=15;break;case 9:return e.next=11,r.json();case 11:i=e.sent,v(i),ue(i),console.error("API error:",i.message||i);case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ye=u.shipping,Ce=(null===ye||void 0===ye?void 0:ye.weight)||"",we=(null===ye||void 0===ye?void 0:ye.dimensions)||{},Se=we.length||"",Ae=we.width||"",De=we.height||"",ke={style:{borderRadius:"5px",border:g.errors?"1px solid red":"none"}},Pe=l?"Save Changes":"Add Product";return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P.Z,{open:oe,autoHideDuration:4e3,onClose:function(){return se(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,_.jsx)(N.Z,{severity:"error",onClose:function(){return se(!1)},children:ce})}),(0,_.jsxs)(E.Z,{open:r,PaperProps:ke,children:[(0,_.jsx)(F.Z,{sx:{backgroundColor:"#282F48",color:"white",borderRadius:"5px 5px 0px 0"},children:l?"Edit Product Details":"Add New Product"}),(0,_.jsxs)(W.Z,{children:[(0,_.jsx)(O.Z,{sx:{my:2},children:"Please fill in the details of the new product."}),(0,_.jsx)(O.Z,{variant:"caption",sx:{m:2,color:"#D23030"},children:"Fields with * are required."}),f&&(0,_.jsx)(S.Z,{}),(0,_.jsx)(L.Z,{sx:{my:2},name:"brand",label:"Brand*",fullWidth:!0,error:Boolean(g.brand),helperText:g.brand,value:u.brand,onChange:xe,autoComplete:"true"}),(0,_.jsx)(L.Z,{sx:{my:2},name:"name",label:"Name*",fullWidth:!0,error:Boolean(g.name),helperText:g.name,value:u.name,onChange:xe,autoComplete:"true"}),(0,_.jsx)(L.Z,{sx:{my:2},name:"price",label:"Price*",type:"number",fullWidth:!0,error:Boolean(g.price),helperText:g.price,value:u.price,onChange:xe,autoComplete:"false",onWheel:function(e){return e.target.blur()}}),(0,_.jsx)(L.Z,{sx:{my:2},name:"specs",label:"Specs*",fullWidth:!0,error:Boolean(g.specs),helperText:g.specs,value:u.specs,onChange:xe,autoComplete:"true"}),(0,_.jsx)(L.Z,{sx:{my:2},name:"description",label:"Description*",multiline:!0,rows:4,fullWidth:!0,error:Boolean(g.description),helperText:g.description,value:u.description,onChange:xe,autoComplete:"true"}),(0,_.jsx)(L.Z,{sx:{my:2},name:"flavor",label:"Flavor",multiline:!0,rows:1,fullWidth:!0,value:u.flavor,onChange:xe,spellCheck:!0,autoComplete:"true"}),(0,_.jsx)(L.Z,{sx:{my:2},name:"totalSold",label:"Units Sold",multiline:!0,rows:1,fullWidth:!0,value:u.totalSold,onChange:xe,autoComplete:"true"}),(0,_.jsx)(R,{category:u.category,onAddCategory:function(e){h((0,C.Z)((0,C.Z)({},u),{},{category:[].concat((0,w.Z)(u.category),[e])}))},onRemoveCategory:function(e){h((0,C.Z)((0,C.Z)({},u),{},{category:u.category.filter((function(r){return r!==e}))}))},error:g&&g.category}),(0,_.jsx)(K,{error:g,loading:f,selectedImage:z,selectedImageData:H,handleImage:function(e){var r=Array.from(e.target.files);r.forEach((function(e){var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){U((function(e){return[].concat((0,w.Z)(e),[r.result])}))}})),I(r),te(!0)},setSelectedImageData:U}),(0,_.jsx)(G,{selectedStrength:J,handleStrengthChange:function(e){var r=e.target.value;X(r),h((0,C.Z)((0,C.Z)({},u),{},{strength:r}))},productData:u,handleChange:xe,error:g}),(0,_.jsx)(Q,{productData:u,handleChange:xe,handleAddKeyword:function(e){h((0,C.Z)((0,C.Z)({},u),{},{seoKeywords:[].concat((0,w.Z)(u.seoKeywords),[e])}))},handleRemoveKeyword:function(e){var r=u.seoKeywords.filter((function(r){return r!==e}));h((0,C.Z)((0,C.Z)({},u),{},{seoKeywords:r}))}}),(0,_.jsx)(Y,{weight:Ce,length:Se,width:Ae,height:De,handleChange:xe})]}),(0,_.jsxs)(B.Z,{sx:{display:"flex",justifyContent:"space-between",borderTop:1,py:2,borderColor:"#CACACA","&:hover":{borderColor:"black"}},children:[(0,_.jsx)(s.Z,{onClick:he,variant:"outlined",color:"secondary",children:"Clear Form"}),(0,_.jsx)(s.Z,{onClick:function(){t&&t(),he()},variant:"outlined",color:"error",children:"Cancel"}),(0,_.jsx)(s.Z,{onClick:pe,variant:"outlined",color:"primary",children:f?(0,_.jsx)(S.Z,{}):Pe})]})]})]})},ee=t(3347),re=t(39),te=t(9281),ne=t(9836),ie=t(3382),oe=t(5855),se=t(3994),le={style:{borderRadius:"6px"}},ae=function(e){var r=e.open,t=e.product,n=e.onClose;return(0,_.jsxs)(E.Z,{open:r,onClose:n,PaperProps:le,children:[(0,_.jsx)(F.Z,{sx:{backgroundColor:"#283047",color:"white",borderRadius:"5px 5px 0px 0"},children:"Product Details"}),(0,_.jsx)(W.Z,{sx:{backgroundColor:"f5f5f5"},children:(0,_.jsx)(te.Z,{component:Z.Z,children:(0,_.jsx)(ne.Z,{children:(0,_.jsxs)(ie.Z,{children:[(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Product ID:"})}),(0,_.jsx)(se.Z,{children:t._id})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Images:"})}),(0,_.jsxs)(se.Z,{children:["    ",t.imgSource&&t.imgSource.map((function(e,r){return(0,_.jsx)("img",{src:e.url,alt:"".concat(t.name," ").concat(r),style:{width:"100px",height:"100px",marginBottom:"1rem"},loading:"lazy"},r)}))]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Brand:"})}),(0,_.jsx)(se.Z,{children:t.brand})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Name:"})}),(0,_.jsx)(se.Z,{children:t.name})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Price:"})}),(0,_.jsxs)(se.Z,{children:["$",t.price.toFixed(2)]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Specs:"})}),(0,_.jsx)(se.Z,{children:t.specs})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Category:"})}),(0,_.jsx)(se.Z,{children:t.category.join(", ")})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Description:"})}),(0,_.jsx)(se.Z,{children:t.description})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Flavor:"})}),(0,_.jsx)(se.Z,{children:t.flavor})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Strength:"})}),(0,_.jsx)(se.Z,{children:t.strength})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Featured:"})}),(0,_.jsx)(se.Z,{children:t.isFeatured?"Yes":"No"})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"SEO Title:"})}),(0,_.jsx)(se.Z,{children:t.seo.title})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"SEO Description:"})}),(0,_.jsx)(se.Z,{children:t.seo.description})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"SEO Keywords:"})}),(0,_.jsx)(se.Z,{children:t.seoKeywords.join(", ")})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Shipping Weight:"})}),(0,_.jsxs)(se.Z,{children:[t.shipping.weight," oz"]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Shipping Height:"})}),(0,_.jsxs)(se.Z,{children:[t.shipping.dimensions.height," in"]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Shipping Width:"})}),(0,_.jsxs)(se.Z,{children:[t.shipping.dimensions.width," in"]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Shipping Length:"})}),(0,_.jsxs)(se.Z,{children:[t.shipping.dimensions.length," in"]})]}),(0,_.jsxs)(oe.Z,{children:[(0,_.jsx)(se.Z,{children:(0,_.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Date Added:"})}),(0,_.jsx)(se.Z,{children:new Date(t.createdAt).toLocaleString()})]})]})})})}),(0,_.jsx)(x.Z,{sx:{},children:(0,_.jsx)(s.Z,{onClick:n,variant:"outlined",color:"primary",sx:{m:2,marginLeft:"auto",display:"flex"},children:"Close"})})]})},ce=function(){var e=(0,i.useState)(!1),r=(0,n.Z)(e,2),t=r[0],o=r[1],l=(0,i.useState)(null),a=(0,n.Z)(l,2),c=a[0],d=a[1],u=(0,i.useState)([]),m=(0,n.Z)(u,2),f=m[0],p=m[1],j=(0,i.useState)(!1),Z=(0,n.Z)(j,2),g=Z[0],v=Z[1],b=(0,i.useState)(!1),y=(0,n.Z)(b,2),A=y[0],D=y[1],k=(0,i.useState)(null),P=(0,n.Z)(k,2),N=P[0],E=P[1],F=(0,i.useState)(!0),W=(0,n.Z)(F,2),O=W[0],L=W[1],B=(0,i.useState)(null),z=(0,n.Z)(B,2),I=z[0],T=z[1],R=function(e){if(e){var r=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric"}).format(r)}return"Date Not Found"};(0,i.useEffect)((function(){L(!0),fetch("http://localhost:8000/api/product/",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){p(e),L(!1)})).catch((function(e){T(e),L(!1),console.error("Error fetching products:",e)}))}),[]);return(0,_.jsxs)(x.Z,{sx:{p:2,m:2},children:[(0,_.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",py:2},children:[(0,_.jsx)(h.Z,{variant:"h6",children:"Product Management"}),(0,_.jsx)(s.Z,{variant:"outlined",color:"success",onClick:function(){v(!0)},children:"Add Product"})]}),O?(0,_.jsx)(S.Z,{}):I?(0,_.jsxs)(h.Z,{variant:"body1",color:"error",children:["Error loading products: ",I.message]}):(0,_.jsx)(ee._$,{sx:{},rows:f.map((function(e){return(0,C.Z)((0,C.Z)({},e),{},{createdAt:R(e.createdAt)})})),columns:[{field:"imgSource",headerName:"Image",flex:.5,renderCell:function(e){return(0,_.jsx)("img",{src:e.row.imgSource[0].url,alt:"Product",style:{width:"50px",height:"50px"},loading:"lazy"})}},{field:"name",headerName:"Name",flex:1},{field:"category",headerName:"Category",flex:1},{field:"specs",headerName:"Specs",flex:1},{field:"totalSold",headerName:"Sold",flex:.25},{field:"price",headerName:"Price",flex:.5,valueFormatter:function(e){var r=e.value;return"number"===typeof r?r.toFixed(2):"N/A"}},{field:"createdAt",headerName:"Date Added",flex:.75},{field:"actions",headerName:"Actions",flex:1.75,renderCell:function(e){return(0,_.jsxs)(x.Z,{sx:{ml:-1},children:[(0,_.jsx)(s.Z,{sx:{fontSize:8,mr:1},variant:"outlined",color:"success",onClick:function(){return r=e.row,d(r),void o(!0);var r},children:"Details"}),(0,_.jsx)(s.Z,{sx:{fontSize:8,mr:1},variant:"outlined",color:"primary",onClick:function(){return r=e.row,E(r),void D(!0);var r},children:"Edit"}),(0,_.jsx)(s.Z,{sx:{fontSize:8},variant:"outlined",color:"secondary",onClick:function(){return r=e.row._id,void(window.confirm("Are you sure you want to delete this product?")&&fetch("http://localhost:8000/api/product/".concat(r),{credentials:"include",method:"DELETE"}).then((function(e){if(e.ok){var t=f.filter((function(e){return e._id!==r}));p(t)}else console.error("Error deleting product:",e.statusText)})).catch((function(e){console.error("Error deleting product:",e)})));var r},children:"Delete"})]})}}],autoHeight:!0,disableSelectionOnClick:!0,getRowId:function(e){return e._id},components:{Toolbar:re.n}}),(0,_.jsx)(X,{open:g||A,onClose:function(){v(!1),D(!1),E(null)},selectedProduct:N,onAddProduct:function(e){p([].concat((0,w.Z)(f),[e])),v(!1)},onUpdateProduct:function(e){p((function(r){return r.map((function(r){return r._id===e._id?e:r}))}))}}),t&&(0,_.jsx)(ae,{open:t,product:c,onClose:function(){return o(!1)}})]})},de=t(8447),ue={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"},he=function(e){var r=e.open,t=e.onClose,o=e.customer,l=e.updateCustomerList,a=e.isViewOnly,c=void 0!==a&&a,d=(0,i.useState)({firstName:"",lastName:"",email:"",address:"",address2:"",city:"",state:"",zip:"",phone:"",country:"",orders:[]}),u=(0,n.Z)(d,2),m=u[0],f=u[1];(0,i.useEffect)((function(){o&&f({firstName:o.firstName,lastName:o.lastName,email:o.email,address:o.address,address2:o.address2,city:o.city,state:o.state,zip:o.zip,phone:o.phone,country:o.country,orders:o.orders})}),[o]);var p=function(e){f((0,C.Z)((0,C.Z)({},m),{},(0,k.Z)({},e.target.name,e.target.value)))};return(0,_.jsx)(de.Z,{open:r,onClose:t,children:(0,_.jsxs)(x.Z,{sx:(0,C.Z)({},ue),children:[(0,_.jsx)(h.Z,{variant:"h6",children:"Edit Customer"}),(0,_.jsxs)(j.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"First Name",name:"firstName",autoComplete:"given-name",value:m.firstName,onChange:p,fullWidth:!0,margin:"normal",disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"Last Name",name:"lastName",autoComplete:"family-name",value:m.lastName,onChange:p,fullWidth:!0,margin:"normal",disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,children:(0,_.jsx)(L.Z,{label:"Email",name:"email",autoComplete:"email",value:m.email,onChange:p,fullWidth:!0,margin:"normal",disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,children:(0,_.jsx)(L.Z,{label:"Address",fullWidth:!0,name:"address1",autoComplete:"address-line1",value:m.address||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,children:(0,_.jsx)(L.Z,{label:"Address Line 2",fullWidth:!0,autoComplete:"address-line2",name:"address2",value:m.address2||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"City",fullWidth:!0,name:"city",autoComplete:"address-level2",value:m.city||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"State",fullWidth:!0,name:"state",autoComplete:"address-level1",value:m.state||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"Zip",fullWidth:!0,name:"zip",autoComplete:"postal-code",value:m.zip||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(L.Z,{label:"Phone",fullWidth:!0,name:"phone",type:"tel",autoComplete:"tel",value:m.phone||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,children:(0,_.jsx)(L.Z,{autoComplete:"country-name",label:"Country",fullWidth:!0,name:"country",value:m.country||"",onChange:p,disabled:c})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,children:(0,_.jsxs)(h.Z,{label:"Orders",name:"orders",onChange:p,children:["Orders:  ",o.orders.length]})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,children:(0,_.jsxs)(h.Z,{label:"Date Created",name:"dateCreated",onChange:p,children:["Date Created:  ",new Date(o.createdAt).toLocaleDateString()]})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,children:(0,_.jsx)(s.Z,{fullWidth:!0,onClick:function(){fetch("http://localhost:8000/api/customer/".concat(o._id),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){return e.json()})).then((function(e){l(e),t()})).catch((function(e){console.error("Error:",e)}))},variant:"outlined",color:"primary",sx:{mt:2},disabled:c,children:"Save Changes"})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,children:(0,_.jsx)(s.Z,{fullWidth:!0,onClick:t,variant:"outlined",color:"secondary",sx:{mt:2},children:"Cancel"})})]})]})})},xe=function(){var e=(0,i.useState)(!1),r=(0,n.Z)(e,2),t=r[0],o=r[1],l=(0,i.useState)(null),a=(0,n.Z)(l,2),c=a[0],d=a[1],u=(0,i.useState)({customers:[],guests:[]}),h=(0,n.Z)(u,2),x=h[0],m=h[1],f=(0,i.useState)(null),p=(0,n.Z)(f,2),j=p[0],Z=p[1],g=(0,i.useState)(!1),v=(0,n.Z)(g,2),b=v[0],y=v[1],w=(0,i.useState)(null),S=(0,n.Z)(w,2),P=S[0],N=S[1],L=(0,i.useState)(null),z=(0,n.Z)(L,2),I=z[0],T=z[1],R=(0,i.useState)(!1),M=(0,n.Z)(R,2),H=M[0],K=M[1],U=function(e,r){N(e),T(r),y(!0)},V=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(r){var t,n,i=arguments;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},Z(null),e.prev=2,e.next=5,fetch(r,(0,C.Z)((0,C.Z)({},t),{},{credentials:"include",headers:(0,C.Z)({"Content-Type":"application/json"},t.headers)}));case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("HTTP error! Status: ".concat(n.status));case 8:return e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(2),console.error("Fetch Error:",e.t0),Z("An error occurred while fetching data");case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(r){return e.apply(this,arguments)}}(),$=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(){var r,t,i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([V("http://localhost:8000/api/customer"),V("http://localhost:8000/api/guest")]);case 3:r=e.sent,t=(0,n.Z)(r,2),i=t[0],o=t[1],m({customers:i,guests:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){$()}),[]);var G=function(e){d(e),o(!0),K(!1)},J=x.customers.filter((function(e){return e.isAdmin})),Q=x.customers.filter((function(e){return!e.isAdmin})),Y={fontSize:"10px",margin:"5px"};return(0,_.jsxs)("div",{style:{padding:20,margin:20},children:[(0,_.jsxs)(E.Z,{open:b,onClose:function(){return y(!1)},children:[(0,_.jsx)(F.Z,{children:"Confirm Deletion"}),(0,_.jsx)(W.Z,{children:(0,_.jsx)(O.Z,{children:"Are you sure you want to delete this user?"})}),(0,_.jsxs)(B.Z,{children:[(0,_.jsx)(s.Z,{onClick:function(){return y(!1)},color:"primary",children:"Cancel"}),(0,_.jsx)(s.Z,{onClick:function(){var e="customer"===I?"http://localhost:8000/api/customer/".concat(P):"http://localhost:8000/api/guest/".concat(P);V(e,{method:"DELETE"}).then((function(){m((function(e){var r="customer"===I?"customers":"guests";return(0,C.Z)((0,C.Z)({},e),{},(0,k.Z)({},r,e[r].filter((function(e){return e._id!==P}))))})),alert("User successfully deleted")})).catch((function(e){console.error("Error:",e),Z("An Error occured while deleting the user")})).finally((function(){y(!1)}))},color:"error",children:"Delete"})]})]}),(0,_.jsx)("h2",{style:{margin:10},children:"Admin List"}),(0,_.jsx)(ee._$,{rows:J,columns:[{field:"fullName",headerName:"Full Name",flex:1,renderCell:function(e){return(0,_.jsxs)("div",{children:[e.row.firstName," ",e.row.lastName]})}},{field:"email",headerName:"Email",flex:1},{field:"_id",headerName:"ID",flex:1.25},{field:"createdAt",headerName:"Registration Date",flex:.75,valueFormatter:function(e){var r=e.value;return new Date(r).toLocaleDateString()}},{field:"actions",headerName:"Actions",flex:1.5,renderCell:function(e){return(0,_.jsxs)("div",{children:[(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"secondary",onClick:function(){return G(e.row)},children:"Edit"}),(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"error",onClick:function(){return r=e.row._id,void(J.length<=1?alert("You cannot remove the last admin."):r!==localStorage.getItem("customerId")?V("http://localhost:8000/api/customer/".concat(r),{method:"PUT",body:JSON.stringify({isAdmin:!1})}).then((function(){m((function(e){return e&&e.customers?(0,C.Z)((0,C.Z)({},e),{},{customers:e.customers.map((function(e){return e._id===r?(0,C.Z)((0,C.Z)({},e),{},{isAdmin:!1}):e}))}):(console.error("Customers data is undefined"),e)}))})).catch((function(e){console.error("Error:",e),Z("An Error occured while removing admin")})):alert("You cannot remove yourself as an admin."));var r},disabled:J.length<=1,children:"Remove Admin"})]})}}],autoHeight:!0,disableSelectionOnClick:!0,getRowId:function(e){return e._id}}),!j&&(0,_.jsx)("div",{style:{color:"red",margin:10},children:j}),(0,_.jsx)("h2",{style:{margin:10},children:"Customer List"}),(0,_.jsx)(ee._$,{rows:Q,columns:[{field:"fullName",headerName:"Full Name",flex:1,renderCell:function(e){return(0,_.jsxs)("div",{children:[e.row.firstName," ",e.row.lastName]})}},{field:"email",headerName:"Email",flex:1},{field:"_id",headerName:"ID",flex:1.25},{field:"createdAt",headerName:"Registration Date",flex:1,valueFormatter:function(e){var r=e.value;return new Date(r).toLocaleDateString()}},{field:"makeAdmin",headerName:"Make Admin",flex:1.5,renderCell:function(e){return!e.row.isAdmin&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"secondary",onClick:function(){return G(e.row)},children:"Edit"}),(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"primary",onClick:function(){return r=e.row._id,void V("http://localhost:8000/api/customer/".concat(r),{method:"PUT",body:JSON.stringify({isAdmin:!0})}).then((function(e){m((function(e){return(0,C.Z)((0,C.Z)({},e),{},{customers:e.customers.map((function(e){return e._id===r?(0,C.Z)((0,C.Z)({},e),{},{isAdmin:!0}):e}))})}))})).catch((function(e){console.error("Error:",e),Z("An Error occured while making admin")}));var r},children:"Make Admin"}),(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"error",onClick:function(){return U(e.row._id,"customer")},children:"Delete User"})]})}}],autoHeight:!0,disableSelectionOnClick:!0,getRowId:function(e){return e._id}}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{style:{margin:10},children:"Guest User List"}),(0,_.jsx)(ee._$,{rows:x.guests,columns:[{field:"fullName",headerName:"Full Name",flex:1,renderCell:function(e){return(0,_.jsxs)("div",{children:[e.row.firstName," ",e.row.lastName]})}},{field:"email",headerName:"Email",flex:1},{field:"_id",headerName:"ID",flex:1.25},{field:"createdAt",headerName:"Registration Date",flex:1,valueFormatter:function(e){var r=e.value;return new Date(r).toLocaleDateString()}},{field:"actions",headerName:"Actions",flex:1.5,renderCell:function(e){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"primary",onClick:function(){return r=e.row,d(r),o(!0),void K(!0);var r},children:"View Details"}),(0,_.jsx)(s.Z,{sx:Y,variant:"outlined",color:"error",onClick:function(){return U(e.row._id,"guest")},children:"Delete Guest"})]})}}],autoHeight:!0,disableSelectionOnClick:!0,getRowId:function(e){return e._id}})]}),t&&(0,_.jsx)(he,{open:t,onClose:function(){return o(!1)},customer:c,updateCustomerList:function(e){m((function(r){return(0,C.Z)((0,C.Z)({},r),{},{customers:r.customers.map((function(r){return r._id===e._id?e:r}))})}))},isViewOnly:H})]})},me=t(8406),fe=t(7621),pe=t(9504),je=t(829),Ze=t(68),ge=function(e){var r=e.order,t=e.open,n=e.onClose;return(0,_.jsxs)(E.Z,{open:t,onClose:n,maxWidth:"lg",fullWidth:!0,children:[(0,_.jsxs)(F.Z,{sx:{backgroundColor:"#282F48",color:"white",textAlign:"center",display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)("span",{style:{fontSize:"28px"},children:"Order Details"}),(0,_.jsx)(u.Z,{sx:{transform:"translate(0px, -7px)"},className:"cart-close-icon",onClick:n,children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",height:"35",width:"35",children:(0,_.jsx)("path",{d:"m10.458 31.458-1.916-1.916 9.5-9.542-9.5-9.542 1.916-1.916 9.542 9.5 9.542-9.5 1.916 1.916-9.5 9.542 9.5 9.542-1.916 1.916-9.542-9.5Z"})})})]}),(0,_.jsx)(W.Z,{dividers:!0,children:(0,_.jsxs)("div",{children:[(0,_.jsxs)(h.Z,{variant:"h6",gutterBottom:!0,children:["Order ID: ",r.orderNumber," "]}),(0,_.jsxs)(j.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Customer Details:"}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Email: ",r.customerEmail]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Customer ID: ",r.createdBy]}),(0,_.jsx)(h.Z,{variant:"body2",children:r.notes?"Order Notes:"+r.notes:"No Order Notes"})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsxs)(h.Z,{variant:"body1",gutterBottom:!0,children:["Order Total: $",r.totalAmount.grandTotal.toFixed(2)]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Subtotal: $",r.totalAmount.subTotal.toFixed(2)]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Tax: $",r.totalAmount.tax.toFixed(2)]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Shipping: $",r.totalAmount.shippingCost.toFixed(2)]})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsxs)(h.Z,{variant:"body1",gutterBottom:!0,children:["Order Details: ",(0,_.jsxs)("strong",{children:[" Status: ",r.orderStatus]})]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Order Placed: ",new Date(r.orderDate).toLocaleDateString()]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Transaction Id: ",r.transactionId]})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsxs)(h.Z,{variant:"body1",gutterBottom:!0,children:["Shipping Details: ",(0,_.jsxs)("strong",{children:[r.shippingMethod.provider," ",r.shippingMethod.type]})]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Print Label:",(0,_.jsx)(s.Z,{sx:{height:"15px"},onClick:function(){return window.open(r.shippingMethod.labelUrl)},children:"Get Label"})]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Print Label:",(0,_.jsx)(s.Z,{sx:{height:"15px"},onClick:function(){return window.open(r.shippingMethod.trackingUrl)},children:"Tracking Details"})]})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:(0,_.jsx)("strong",{children:"Ship to:"})}),(0,_.jsx)(h.Z,{variant:"body2",children:r.address})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Products Ordered:"}),r.products.map((function(e,t){return(0,_.jsx)(i.Fragment,{children:(0,_.jsxs)("div",{style:{display:"flex",border:"0.1px solid black",borderRadius:"5px",padding:"5px",marginBottom:"5px"},children:[(0,_.jsx)("img",{loading:"lazy",height:75,src:e.img,alt:t+"product image"}),(0,_.jsxs)("div",{children:[(0,_.jsxs)(h.Z,{variant:"body2",children:["Product: ",e.name]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Quantity: ",e.quantity]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Price: $",e.price]}),t<r.products.length-1&&(0,_.jsx)("br",{})]})]})},t)}))]})})}),(0,_.jsx)(j.ZP,{sx:{display:"flex",justifyContent:"end"},item:!0,xs:12,md:12,lg:12,children:(0,_.jsx)(s.Z,{variant:"outlined",onClick:n,children:"Close"})})]})]})})]})},ve=function(){var e=(0,i.useState)([]),r=(0,n.Z)(e,2),t=r[0],o=r[1],l=(0,i.useState)(""),a=(0,n.Z)(l,2),c=a[0],d=a[1],u=(0,i.useState)(""),m=(0,n.Z)(u,2),p=m[0],j=m[1],Z=(0,i.useState)(!1),g=(0,n.Z)(Z,2),v=g[0],b=g[1],y=(0,i.useState)(""),w=(0,n.Z)(y,2),A=w[0],D=w[1],k=(0,i.useState)([]),N=(0,n.Z)(k,2),E=N[0],F=N[1],W=(0,i.useState)(!0),O=(0,n.Z)(W,2),B=O[0],I=O[1],T=(0,i.useState)(null),R=(0,n.Z)(T,2),M=R[0],H=R[1],K=(0,i.useState)(!1),U=(0,n.Z)(K,2),V=U[0],$=U[1];(0,i.useEffect)((function(){fetch("http://localhost:8000/api/order",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){o(e),I(!1),G(e)})).catch((function(e){console.error("Error fetching orders:",e),I(!1)}))}),[]);(0,i.useEffect)((function(){G()}),[p,c]);var G=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).filter((function(e){var r,t,n,i=p.toLowerCase(),o=e.products.map((function(e){return e.name.toLowerCase()})).join(" ");return(""===c||e.orderStatus===c)&&(""===i||e._id.toLowerCase().includes(i)||e.customer.toLowerCase().includes(i)||e.orderDate.toLowerCase().includes(i)||e.orderStatus.toLowerCase().includes(i)||(null===(r=e.address)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(t=e.shippingMethod.provider)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===(n=e.products.productId)||void 0===n?void 0:n.toString().includes(i))||o.includes(i))}));F(e)},J=function(e,r){if(e&&e.target){var n=e.target.value;I(!0),fetch("http://localhost:8000/api/order/".concat(r),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderStatus:n})}).then((function(e){return e.json()})).then((function(e){var r=t.map((function(r){return r._id===e._id?(0,C.Z)((0,C.Z)({},r),{},{orderStatus:e.orderStatus}):r}));o(r),F(r),D("Order status updated to ".concat(e.orderStatus)),b(!0),I(!1)})).catch((function(e){console.error("Error updating order status:",e),I(!1),D("Error updating order status"),b(!0)}))}},Q=[{field:"_id",headerName:"Order ID",flex:2,renderCell:function(e){return(0,_.jsx)(Ze.Z,{title:e.value,children:(0,_.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.value})})}},{field:"customer",headerName:"Customer ID",flex:1.5,renderCell:function(e){return(0,_.jsx)(Ze.Z,{title:e.value,children:(0,_.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.value})})}},{field:"orderDate",headerName:"Order Date",flex:1,valueFormatter:function(e){var r=e.value;return new Date(r).toLocaleDateString()}},{field:"address",headerName:"Shipping To",flex:1.5},{field:"actions",headerName:"Actions",flex:1.5,renderCell:function(e){return(0,_.jsxs)(x.Z,{children:[(0,_.jsx)(s.Z,{sx:{fontSize:10,p:1},variant:"outlined",onClick:function(){return r=e.row,H(r),void $(!0);var r},children:"Details"}),(0,_.jsx)(s.Z,{sx:{fontSize:10,m:1,p:1},variant:"outlined",color:"secondary",onClick:function(){return function(e){var r=window.confirm("Are you sure you want to delete this order? - It will be permanently deleted");I(!0),r&&fetch("http://localhost:8000/api/order/".concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){var r=t.filter((function(r){return r._id!==e}));o(r),F(r),I(!1),D("Order deleted successfully"),b(!0)})).catch((function(e){console.error("Error deleting order:",e),D("Error deleting order"),b(!0),I(!1)}))}(e.row._id)},children:"Delete"})]})}},{field:"orderStatus",headerName:"Order Status",flex:1.5,renderCell:function(e){return(0,_.jsxs)(me.Z,{fullWidth:!0,sx:{height:50,ml:-1},value:e.row.orderStatus,onChange:function(r){return J(r,e.row._id)},children:[(0,_.jsxs)(f.Z,{value:"Pending",children:[(0,_.jsx)("svg",{color:"blue",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,_.jsx)("path",{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11a6.743 6.743 0 0 1-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})}),"Pending"]}),(0,_.jsxs)(f.Z,{value:"Shipped",children:[(0,_.jsxs)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:[(0,_.jsx)("path",{fill:"#8BC34A",d:"M43,36H29V14h10.6c0.9,0,1.6,0.6,1.9,1.4L45,26v8C45,35.1,44.1,36,43,36z"}),(0,_.jsx)("path",{fill:"#388E3C",d:"M29,36H5c-1.1,0-2-0.9-2-2V9c0-1.1,0.9-2,2-2h22c1.1,0,2,0.9,2,2V36z"}),(0,_.jsxs)("g",{fill:"#37474F",children:[(0,_.jsx)("circle",{cx:"37",cy:"36",r:"5"}),(0,_.jsx)("circle",{cx:"13",cy:"36",r:"5"})]}),(0,_.jsxs)("g",{fill:"#78909C",children:[(0,_.jsx)("circle",{cx:"37",cy:"36",r:"2"}),(0,_.jsx)("circle",{cx:"13",cy:"36",r:"2"})]}),(0,_.jsx)("path",{fill:"#37474F",d:"M41,25h-7c-0.6,0-1-0.4-1-1v-7c0-0.6,0.4-1,1-1h5.3c0.4,0,0.8,0.3,0.9,0.7l1.7,5.2c0,0.1,0.1,0.2,0.1,0.3V24 C42,24.6,41.6,25,41,25z"}),(0,_.jsx)("polygon",{fill:"#DCEDC8",points:"21.8,13.8 13.9,21.7 10.2,17.9 8,20.1 13.9,26 24,15.9"})]}),"Shipped"]}),(0,_.jsxs)(f.Z,{value:"Delivered",children:[(0,_.jsx)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:(0,_.jsx)("polygon",{fill:"#43A047",points:"40.6,12.1 17,35.7 7.4,26.1 4.6,29 17,41.3 43.4,14.9"})})," Delivered"]}),(0,_.jsxs)(f.Z,{value:"Canceled",children:[(0,_.jsx)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:(0,_.jsx)("path",{fill:"#D50000",d:"M24,6C14.1,6,6,14.1,6,24s8.1,18,18,18s18-8.1,18-18S33.9,6,24,6z M24,10c3.1,0,6,1.1,8.4,2.8L12.8,32.4 C11.1,30,10,27.1,10,24C10,16.3,16.3,10,24,10z M24,38c-3.1,0-6-1.1-8.4-2.8l19.6-19.6C36.9,18,38,20.9,38,24C38,31.7,31.7,38,24,38 z"})})," Canceled"]})]})}}];return B?(0,_.jsx)(x.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:(0,_.jsx)(S.Z,{})}):(0,_.jsxs)(x.Z,{sx:{m:3,py:5},children:[(0,_.jsx)(h.Z,{variant:"h4",gutterBottom:!0,children:"Order List "}),(0,_.jsx)(fe.Z,{variant:"outlined",sx:{mb:3},children:(0,_.jsx)(pe.Z,{sx:{py:2},children:(0,_.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(L.Z,{name:"searchBar",sx:{mr:5,flexGrow:1},label:"Search by keyword",value:p,onChange:function(e){return j(e.target.value)}}),(0,_.jsxs)(z.Z,{sx:{width:"20%"},children:[(0,_.jsx)(je.Z,{sx:{backgroundColor:"white",px:1},children:"Order Status"}),(0,_.jsxs)(me.Z,{value:c,onChange:function(e){return d(e.target.value)},defaultValue:"All Orders",children:[(0,_.jsx)(f.Z,{value:"",children:"All Orders"}),(0,_.jsx)(f.Z,{value:"Pending",children:"Pending"}),(0,_.jsx)(f.Z,{value:"Shipped",children:"Shipped"}),(0,_.jsx)(f.Z,{value:"Delivered",children:"Delivered"}),(0,_.jsx)(f.Z,{value:"Canceled",children:"Canceled"})]})]})]})})}),(0,_.jsx)(ee._$,{getRowId:function(e){return e._id},rows:E,columns:Q,components:{Toolbar:re.n},onCellClick:function(e){"orderStatus"===e.field&&J(e.event,e.row._id)}}),(0,_.jsx)(P.Z,{open:v,autoHideDuration:3e3,onClose:function(){b(!1)},message:A}),0===E.length&&!B&&(0,_.jsx)(h.Z,{variant:"h4",sx:{textAlign:"center"},children:"No orders found based on the current filter/search criteria."}),M&&(0,_.jsx)(ge,{order:M,open:V,onClose:function(){$(!1)}})]})},be=t(4016),ye=t(302),Ce=function(){var e=(0,i.useState)([]),r=(0,n.Z)(e,2),t=r[0],o=r[1],l=(0,i.useState)([""]),a=(0,n.Z)(l,2),c=(a[0],a[1]),d=(0,i.useState)(0),u=(0,n.Z)(d,2),m=u[0],f=u[1],p=(0,i.useState)(0),Z=(0,n.Z)(p,2),g=Z[0],v=Z[1],b=(0,i.useState)(0),y=(0,n.Z)(b,2),P=y[0],N=y[1],E=(0,i.useState)(0),F=(0,n.Z)(E,2),W=F[0],O=F[1],L=(0,i.useState)([]),B=(0,n.Z)(L,2),z=B[0],I=B[1],T=(0,i.useState)(0),R=(0,n.Z)(T,2),M=R[0],H=R[1],K=(0,i.useState)(0),U=(0,n.Z)(K,2),V=U[0],$=U[1],G=(0,i.useState)([]),J=(0,n.Z)(G,2),Q=(J[0],J[1]),Y=(0,i.useState)([]),q=(0,n.Z)(Y,2),X=q[0],ee=q[1],re=(0,i.useState)(!1),te=(0,n.Z)(re,2),ne=te[0],ie=te[1],oe=(0,i.useState)([]),se=(0,n.Z)(oe,2),le=(se[0],se[1]),ae=(0,i.useState)(!1),ce=(0,n.Z)(ae,2),de=(ce[0],ce[1]),ue=(0,i.useState)(null),he=(0,n.Z)(ue,2),xe=he[0],me=he[1],je=(0,i.useState)([]),Ze=(0,n.Z)(je,2),ve=Ze[0],Ce=Ze[1],we=ve.reduce((function(e,r){return e+r.orders.length}),0),Se=function(e){var r={};return e.forEach((function(e){var t="month_".concat(e.month);r[t]||(r[t]={}),r[t][e.productId]||(r[t][e.productId]=(0,C.Z)((0,C.Z)({},e),{},{totalQuantity:0,totalAmount:0})),r[t][e.productId].totalQuantity+=e.totalQuantity,r[t][e.productId].totalAmount+=e.totalAmount})),r},Ae=["January","February","March","April","May","June","July","August","September","October","November","December"],De=function(e){var r={},t=new Set;return Object.keys(e).forEach((function(n){var i=parseInt(n.split("_")[1],10),o=Ae[i-1],s=Object.values(e[n]);s.sort((function(e,r){return r.totalAmount-e.totalAmount})),r[n]={month:o};var l=new Set;s.length>0&&s.slice(0,4).forEach((function(e){var t="".concat(e.name);r[n][t]=e.totalAmount,l.add(t)}));t.forEach((function(e){l.has(e)||(r[n][e]=0)})),t=new Set((0,w.Z)(l))})),Object.values(r)},ke=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(r,t){var n;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,{method:"GET",signal:t,credentials:"include",headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch data from ".concat(r));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=new AbortController,r=e.signal,t=function(){var e=(0,D.Z)((0,A.Z)().mark((function e(){var t,n,i,s,l,a,d,u,h,x;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ie(!0),e.next=4,ke("http://localhost:8000/api/guest",r);case 4:return t=e.sent,Ce(t),e.next=8,ke("http://localhost:8000/api/product",r);case 8:return n=e.sent,c(n),f(n.length),e.next=13,ke("http://localhost:8000/api/order",r);case 13:return i=e.sent,s=i.sort((function(e,r){return new Date(r.orderDate)-new Date(e.orderDate)})).slice(0,5),I(s),v(i.length),le(i),N(i.reduce((function(e,r){return e+r.totalAmount.grandTotal}),0)),O(i.filter((function(e){return"Pending"===e.orderStatus})).length),e.next=22,ke("http://localhost:8000/api/customer",r);case 22:return l=e.sent,a=l.filter((function(e){return e.isAdmin})),d=l.filter((function(e){return!e.isAdmin})),$(d.length),ee(d.sort((function(e,r){return new Date(r.registrationDate)-new Date(e.registrationDate)})).slice(0,5)),H(a.length),Q(a.sort((function(e,r){return new Date(r.createdAt)-new Date(e.createdAt)})).slice(0,5)),e.next=31,ke("http://localhost:8000/api/order/best-sellers-six-months",r);case 31:u=e.sent,h=Se(u),x=De(h),o(x),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),"AbortError"!==e.t0.name&&console.error("Error fetching data:",e.t0);case 40:return e.prev=40,ie(!1),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[0,37,40,43]])})));return function(){return e.apply(this,arguments)}}();return t(),function(){e.abort()}}),[]);var Pe={yAxis:[{label:"Total Sales ($)"}],width:1e3,height:500,sx:(0,k.Z)((0,k.Z)({},".".concat(ye.x.left," .").concat(ye.x.label),{transform:"translate(50px, -190px) "}),".".concat(ye.x.bottom," .").concat(ye.x.tickLabel),{fontSize:"26px"}),xAxis:[{scaleType:"band",dataKey:"month"}]},Ne=function(e){var r="string"===typeof e?parseFloat(e):e;return isNaN(r)?"N/A":"$".concat(r.toFixed(2))},Ee=function(e){return function(e){for(var r=e.length-1;r>0;r--){var t=Math.floor(.2*(r+1)),n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]}return e}(Object.keys(e[0]||{}).filter((function(e){return"month"!==e})).map((function(e,r){return{dataKey:e,label:e,valueFormatter:Ne,color:["#06B2AF","#2E96FF","#AA00C6","#60009B"][r%4]}})))}(t);if(ne)return(0,_.jsx)(x.Z,{children:(0,_.jsx)(S.Z,{})});var Fe=function(e){var r=e.series;return(0,_.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",marginTop:"20px"},children:r.map((function(e,r){return(0,_.jsxs)("div",{style:{margin:15,display:"flex",alignItems:"center"},children:[(0,_.jsx)("div",{style:{width:20,height:20,backgroundColor:e.color,marginRight:5}}),(0,_.jsx)("span",{children:e.label})]},r)}))})};return(0,_.jsxs)(x.Z,{sx:{m:5},children:[(0,_.jsx)(h.Z,{p:3,textAlign:"center",variant:"h4",children:"SALES OVERVIEW"}),(0,_.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Total Products:"}),(0,_.jsx)(h.Z,{variant:"body2",children:m})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Total Orders:"}),(0,_.jsx)(h.Z,{variant:"body2",children:g})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Total Sales:"}),(0,_.jsx)(h.Z,{variant:"body2",children:P.toFixed(2)})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Pending Orders:"}),(0,_.jsx)(h.Z,{variant:"body2",children:W})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Total Admins: "}),(0,_.jsx)(h.Z,{variant:"body2",children:M})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:6,md:4,lg:2,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Total Accounts:  "}),(0,_.jsx)(h.Z,{variant:"body2",children:V})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:4,lg:6,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:"Recent Customer Registrations: "}),(0,_.jsxs)(h.Z,{variant:"body2",children:[" ",X.map((function(e){return(0,_.jsxs)("li",{children:[e.firstName," ",e.lastName," - ",e.email]},e._id)}))]})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:8,lg:6,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",children:"Guest Information:"}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Total Guest Accounts: ",ve.length]}),(0,_.jsxs)(h.Z,{variant:"body2",children:["Total Guest Orders: ",we]}),(0,_.jsx)(h.Z,{variant:"body2"})]})})}),(0,_.jsx)(j.ZP,{item:!0,xs:12,md:8,lg:12,children:(0,_.jsx)(fe.Z,{children:(0,_.jsxs)(pe.Z,{children:[(0,_.jsx)(h.Z,{variant:"body1",children:"Latest Orders:"}),z.map((function(e){return(0,_.jsxs)(x.Z,{children:[(0,_.jsxs)(h.Z,{component:s.Z,onClick:function(){return r=e._id,me(r),void de(!0);var r},variant:"body2",children:["Order ID: ",e._id," \u2022 Order Status: ",(0,_.jsx)("strong",{children:e.orderStatus})]}),xe===e._id&&(0,_.jsx)(ge,{order:e,open:xe===e._id,onClose:function(){return me(null)}})]},e._id)}))]})})}),(0,_.jsxs)(x.Z,{style:{marginTop:"40px"},children:[(0,_.jsx)(h.Z,{p:3,textAlign:"center",variant:"h5",children:"Best Sellers Data"}),(0,_.jsx)(Fe,{series:Ee})]}),(0,_.jsx)(be.v,(0,C.Z)({dataset:t,slotProps:{legend:{hidden:!0}},sx:{},xAxis:[{scaleType:"band",dataKey:"month"}],series:Ee},Pe))]})]})},we=t(2019),Se=t(1087),Ae=function(){(0,i.useEffect)((function(){document.title="Admin Dashboard - Herba Naturals Management Portal",document.querySelector('meta[name="description"]').setAttribute("content","Herba Natural's Admin Dashboard. Manage products, orders, and customer interactions efficiently in our secure admin portal.")}),[]);var e=(0,i.useState)(!1),r=(0,n.Z)(e,2),t=r[0],C=r[1],w=(0,i.useState)("AdminDashboard"),S=(0,n.Z)(w,2),A=S[0],D=S[1],k=(0,i.useState)(null),P=(0,n.Z)(k,2),N=P[0],E=P[1],F=(0,we.a)(),W=(F.isLoggedIn,F.logout),O=(F.isAdmin,function(){E(null)}),L=function(){C(!t)};return(0,_.jsxs)("div",{children:[(0,_.jsx)(c.Z,{position:"static",children:(0,_.jsxs)(d.Z,{sx:{justifyContent:"space-between",backgroundColor:"#283047"},children:[(0,_.jsx)(u.Z,{edge:"start",color:"inherit","aria-label":"menu",onClick:L,sx:{color:"white",transition:"0.3s color ease","&:hover":{transition:"0.3s color ease",color:"#FE6F49"}},children:(0,_.jsx)(y.Z,{sx:{fontSize:32}})}),(0,_.jsx)(h.Z,{variant:"h1",component:"h1",sx:{fontSize:"h6.fontSize"},children:"Admin Dashboard"}),(0,_.jsx)(x.Z,{onClick:function(e){E(e.currentTarget)},children:(0,_.jsx)(u.Z,{size:"large",edge:"end","aria-label":"account of current user",sx:{color:"white",transition:"0.3s color ease","&:hover":{transition:"0.3s color ease",color:"#FE6F49"}},children:(0,_.jsx)(b.Z,{sx:{fontSize:"32px"}})})}),(0,_.jsxs)(m.Z,{anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(N),onClose:O,sx:{mt:4,ml:3},children:[(0,_.jsx)(f.Z,{onClick:O,children:(0,_.jsx)(Se.rU,{style:{textDecoration:"none",color:"black"},to:"/",children:"Home"})},"home"),(0,_.jsx)(f.Z,{onClick:O,children:(0,_.jsx)(Se.rU,{style:{textDecoration:"none",color:"black"},to:"/customer/admin",children:"Admin"})},"admin"),(0,_.jsx)(f.Z,{onClick:O,children:(0,_.jsx)(Se.rU,{style:{textDecoration:"none",color:"black"},to:"/details",children:"Account"})},"account"),(0,_.jsx)(f.Z,{onClick:function(){W()},children:(0,_.jsx)("span",{style:{textDecoration:"none",cursor:"pointer"},children:"Logout"})},"logout")]})]})}),(0,_.jsx)(p.Z,{children:(0,_.jsx)(j.ZP,{container:!0,spacing:3,children:(0,_.jsx)(j.ZP,{item:!0,xs:12,children:(0,_.jsxs)(Z.Z,{children:["AdminDashboard"===A&&(0,_.jsx)(Ce,{}),"productList"===A&&(0,_.jsx)(ce,{}),"userList"===A&&(0,_.jsx)(xe,{}),"orderList"===A&&(0,_.jsx)(ve,{})]})})})}),(0,_.jsx)(g.ZP,{anchor:"left",open:t,onClose:L,children:(0,_.jsxs)(v.Z,{children:[(0,_.jsx)(o.ZP,{sx:{backgroundColor:"inherit",textAlign:"center"},children:(0,_.jsx)(a.Z,{primary:"MENU"})}),[{icon:(0,_.jsxs)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:[(0,_.jsx)("polygon",{fill:"#E8EAF6",points:"42,39 6,39 6,23 24,6 42,23"}),(0,_.jsxs)("g",{fill:"#C5CAE9",children:[(0,_.jsx)("polygon",{points:"39,21 34,16 34,9 39,9"}),(0,_.jsx)("rect",{x:"6",y:"39",width:"36",height:"5"})]}),(0,_.jsx)("polygon",{fill:"#B71C1C",points:"24,4.3 4,22.9 6,25.1 24,8.4 42,25.1 44,22.9"}),(0,_.jsx)("rect",{x:"18",y:"28",fill:"#D84315",width:"12",height:"16"}),(0,_.jsx)("rect",{x:"21",y:"17",fill:"#01579B",width:"6",height:"6"}),(0,_.jsx)("path",{fill:"#FF8A65",d:"M27.5,35.5c-0.3,0-0.5,0.2-0.5,0.5v2c0,0.3,0.2,0.5,0.5,0.5S28,38.3,28,38v-2C28,35.7,27.8,35.5,27.5,35.5z"})]}),text:"Dashboard Home",component:"AdminDashboard"},{icon:(0,_.jsxs)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:[(0,_.jsxs)("g",{fill:"#3F51B5",children:[(0,_.jsx)("polygon",{points:"17.8,18.1 10.4,25.4 6.2,21.3 4,23.5 10.4,29.9 20,20.3"}),(0,_.jsx)("polygon",{points:"17.8,5.1 10.4,12.4 6.2,8.3 4,10.5 10.4,16.9 20,7.3"}),(0,_.jsx)("polygon",{points:"17.8,31.1 10.4,38.4 6.2,34.3 4,36.5 10.4,42.9 20,33.3"})]}),(0,_.jsxs)("g",{fill:"#90CAF9",children:[(0,_.jsx)("rect",{x:"24",y:"22",width:"20",height:"4"}),(0,_.jsx)("rect",{x:"24",y:"9",width:"20",height:"4"}),(0,_.jsx)("rect",{x:"24",y:"35",width:"20",height:"4"})]})]}),text:"Product List",component:"productList"},{icon:(0,_.jsxs)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:[(0,_.jsx)("polygon",{fill:"#FF9800",points:"24,37 19,31 19,25 29,25 29,31"}),(0,_.jsxs)("g",{fill:"#FFA726",children:[(0,_.jsx)("circle",{cx:"33",cy:"19",r:"2"}),(0,_.jsx)("circle",{cx:"15",cy:"19",r:"2"})]}),(0,_.jsx)("path",{fill:"#FFB74D",d:"M33,13c0-7.6-18-5-18,0c0,1.1,0,5.9,0,7c0,5,4,9,9,9s9-4,9-9C33,18.9,33,14.1,33,13z"}),(0,_.jsx)("path",{fill:"#424242",d:"M24,4c-6.1,0-10,4.9-10,11c0,0.8,0,2.3,0,2.3l2,1.7v-5l12-4l4,4v5l2-1.7c0,0,0-1.5,0-2.3c0-4-1-8-6-9l-1-2 H24z"}),(0,_.jsxs)("g",{fill:"#784719",children:[(0,_.jsx)("circle",{cx:"28",cy:"19",r:"1"}),(0,_.jsx)("circle",{cx:"20",cy:"19",r:"1"})]}),(0,_.jsx)("polygon",{fill:"#fff",points:"24,43 19,31 24,32 29,31"}),(0,_.jsx)("polygon",{fill:"#D32F2F",points:"23,35 22.3,39.5 24,43.5 25.7,39.5 25,35 26,34 24,32 22,34"}),(0,_.jsx)("path",{fill:"#546E7A",d:"M29,31L29,31l-5,12l-5-12c0,0-11,2-11,13h32C40,33,29,31,29,31z"})]}),text:"User List",component:"userList"},{icon:(0,_.jsxs)("svg",{height:"24",version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",children:[(0,_.jsxs)("g",{fill:"#00BCD4",children:[(0,_.jsx)("rect",{x:"37",y:"18",width:"6",height:"24"}),(0,_.jsx)("rect",{x:"29",y:"26",width:"6",height:"16"}),(0,_.jsx)("rect",{x:"21",y:"22",width:"6",height:"20"}),(0,_.jsx)("rect",{x:"13",y:"32",width:"6",height:"10"}),(0,_.jsx)("rect",{x:"5",y:"28",width:"6",height:"14"})]}),(0,_.jsxs)("g",{fill:"#3F51B5",children:[(0,_.jsx)("circle",{cx:"8",cy:"16",r:"3"}),(0,_.jsx)("circle",{cx:"16",cy:"18",r:"3"}),(0,_.jsx)("circle",{cx:"24",cy:"11",r:"3"}),(0,_.jsx)("circle",{cx:"32",cy:"13",r:"3"}),(0,_.jsx)("circle",{cx:"40",cy:"9",r:"3"}),(0,_.jsx)("polygon",{points:"39.1,7.2 31.8,10.9 23.5,8.8 15.5,15.8 8.5,14.1 7.5,17.9 16.5,20.2 24.5,13.2 32.2,15.1 40.9,10.8"})]})]}),text:"Order List",component:"orderList"}].map((function(e,r){return(0,_.jsx)(o.ZP,{onClick:function(){return r=e.component,D(r),void C(!1);var r},children:(0,_.jsxs)(s.Z,{variant:"text",sx:{},children:[(0,_.jsx)(l.Z,{children:e.icon}),(0,_.jsx)(a.Z,{primary:e.text})]})},r)}))]})})]})}}}]);
//# sourceMappingURL=592.b12c2cd1.chunk.js.map