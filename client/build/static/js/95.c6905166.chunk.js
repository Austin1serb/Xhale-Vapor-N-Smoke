"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[95,433],{2095:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var l=s(2791),i=s(6029),n=s(3239),a=s(1889),r=s(890),c=s(3400),o=s(9124),d=s(3896),u=s(8096),x=s(829),m=s(8406),h=s(3786),p=s(4294),b=s(8447),f=s(6679);const v=(e,t)=>{const s=(0,l.useRef)(null),i=(0,l.useRef)(null);return(0,l.useCallback)((function(){for(var l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];const r=Date.now();s.current&&r<s.current+t?(clearTimeout(i.current),i.current=setTimeout((()=>{s.current=r,e(...n)}),t+s.current-r)):(s.current=r,e(...n))}),[e,t])};var j=s(184);const g="freight-display-pro, serif",w={fontFamily:g,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"90%",sm:"600px",md:"800px"},maxHeight:{xs:"70vh",sm:"90vh"},overflowY:"auto",bgcolor:"background.paper",boxShadow:"2px -2px 23px 0",border:"5px solid #ccc",p:4,borderRadius:2};function y(e){const{children:t,value:s,index:l,...n}=e;return(0,j.jsx)("div",{role:"tabpanel",hidden:s!==l,id:"simple-tabpanel-".concat(l),"aria-labelledby":"simple-tab-".concat(l),...n,children:s===l&&(0,j.jsx)(i.Z,{sx:{p:3},children:(0,j.jsx)("div",{children:t})})})}const Z=e=>{let{productId:t,open:s,handleClose:Z,products:k}=e;const[S,C]=(0,l.useState)(null),[q,N]=(0,l.useState)(0),[z,F]=(0,l.useState)(""),[E,H]=(0,l.useState)(1),[B,L]=(0,l.useState)(""),[R,I]=(0,l.useState)(!1),{addToCart:M,cart:P}=(0,f.j)(),[D,A]=(0,l.useState)([]);(0,l.useEffect)((()=>{S&&(document.title=S.seo.title||S.name)}),[S]),(0,l.useEffect)((()=>{if(S){const e=document.querySelector('meta[name="keywords"]');e&&(e.content=S.seoKeywords.join(", ")||"default, keywords")}}),[S]),(0,l.useEffect)((()=>{if(!s){C(null),F(""),document.title="Shop at HerbaNatural - Explore Koi, Beezbee, Wyld Products and More";const e=document.querySelector('meta[name="description"]'),t=document.querySelector('meta[name="keywords"]');e&&(e.content="Browse Herba Natural's online store for the finest CBD products. Featuring brands like Koi, Beezbee, and Wyld with a variety of CBD oils, edibles, and topicals."),t&&(t.content="default, keywords")}}),[s]),(0,l.useEffect)((()=>{if(!s)return C(null),void F("");if(t){const e=k.find((e=>e._id===t));e?(C(e),e.imgSource.length>0&&F(e.imgSource[0].url)):console.error("Product not found")}}),[t,s,k]),(0,l.useEffect)((()=>{if(S){const e=S.flavor.split(",")[0].trim();L(e);const t=k.filter((e=>e._id!==S._id&&e.category.some((e=>S.category.includes(e))))).slice(0,3);A(t)}}),[S,k]),(0,l.useEffect)((()=>{S&&S.imgSource.length>0&&F(S.imgSource[0].url)}),[S]);const W=(e,t)=>{N(t)},[V,_]=(0,l.useState)(!1),[K,T]=(0,l.useState)({x:0,y:0}),[Y]=(0,l.useState)({width:200,height:200}),[Q]=(0,l.useState)(2),X=v((e=>{const t=e.target.getBoundingClientRect(),s=e.pageX-t.left-window.scrollX+50,l=e.pageY-t.top-window.scrollY+45;T({x:s-Y.width/2,y:l-Y.height/2})}),50);return(0,j.jsx)(b.Z,{open:s,onClose:Z,children:(0,j.jsx)(i.Z,{className:"quickview-container",sx:w,children:R?(0,j.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,j.jsx)(n.Z,{})}):S?(0,j.jsx)(a.ZP,{container:!0,spacing:2,style:{minWidth:"280px"},children:(0,j.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,sm:5,md:6,children:(0,j.jsxs)(i.Z,{className:"quickview-img-container",sx:{display:"flex",flexDirection:{xs:"row",sm:"column"}},children:[(0,j.jsxs)(i.Z,{children:[(0,j.jsx)(i.Z,{sx:{display:"flex",ml:{sm:3,md:0}},children:S.imgSource.map(((e,t)=>(0,j.jsx)(i.Z,{className:"quickview-thumbnail-container",sx:{visibility:{xs:t<3?"visible":"hidden",sm:"visible"}},children:(0,j.jsx)("img",{className:"quickview-thumbnail",src:"".concat(e.url),alt:"".concat(S.name," thumbnail ").concat(t),onClick:()=>{return t=e.url,void F(t);var t}},"image")},"thumbnail:"+t)))}),(0,j.jsx)(i.Z,{className:"image-container",onMouseEnter:()=>_(!0),onMouseMove:X,onMouseLeave:()=>_(!1),display:"flex",justifyContent:"center",children:(0,j.jsx)("img",{className:"quickview-main-image",src:z,alt:S.name},S.name)})]}),(0,j.jsx)(r.Z,{sx:{display:{xs:"none",sm:"block"}},className:"zoom-box-title",children:"Zoom Box"}),(0,j.jsx)(i.Z,{className:"zoom-box",sx:{display:{xs:"none",sm:"block"}},children:V&&(0,j.jsx)(i.Z,{className:"zoom-lens",style:{position:"relative",width:"".concat(Y.width,"px"),height:"".concat(Y.height,"px"),overflow:"hidden",border:"1px solid black"},children:(0,j.jsx)("img",{src:z,alt:S.name,style:{position:"absolute",width:"".concat(300*Q,"px"),height:"".concat(300*Q,"px"),left:"-".concat(K.x*Q,"px"),top:"-".concat(K.y*Q,"px"),pointerEvents:"none"}})})})]})}),(0,j.jsxs)(a.ZP,{item:!0,xs:12,sm:7,md:6,children:[(0,j.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)("div",{style:{marginRight:"-30px"},children:(0,j.jsx)(r.Z,{sx:{width:"100%",fontSize:{xs:18,sm:22},ml:{xs:5,sm:3,md:0},fontFamily:g,fontWeight:600},variant:"h6",className:"quickview-title",children:S.name})}),(0,j.jsx)(c.Z,{sx:{p:{sm:2,md:2},m:2},className:"quickview-close-button",onClick:Z,children:(0,j.jsxs)("svg",{height:"45",width:"45",fill:"#282F48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",children:[(0,j.jsx)("path",{fill:"#282F48",d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}),(0,j.jsx)("path",{fill:"white",d:"M184 840h656V184H184v656zm163.9-473.9A7.95 7.95 0 0 1 354 353h58.9c4.7 0 9.2 2.1 12.3 5.7L512 462.2l86.8-103.5c3-3.6 7.5-5.7 12.3-5.7H670c6.8 0 10.5 7.9 6.1 13.1L553.8 512l122.3 145.9c4.4 5.2.7 13.1-6.1 13.1h-58.9c-4.7 0-9.2-2.1-12.3-5.7L512 561.8l-86.8 103.5c-3 3.6-7.5 5.7-12.3 5.7H354c-6.8 0-10.5-7.9-6.1-13.1L470.2 512 347.9 366.1z"}),(0,j.jsx)("path",{fill:"#282F48",d:"M354 671h58.9c4.8 0 9.3-2.1 12.3-5.7L512 561.8l86.8 103.5c3.1 3.6 7.6 5.7 12.3 5.7H670c6.8 0 10.5-7.9 6.1-13.1L553.8 512l122.3-145.9c4.4-5.2.7-13.1-6.1-13.1h-58.9c-4.8 0-9.3 2.1-12.3 5.7L512 462.2l-86.8-103.5c-3.1-3.6-7.6-5.7-12.3-5.7H354c-6.8 0-10.5 7.9-6.1 13.1L470.2 512 347.9 657.9A7.95 7.95 0 0 0 354 671z"})]})})]}),(0,j.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider",mr:{sx:0,sm:6,md:15.01}},children:(0,j.jsxs)(o.Z,{sx:{ml:{xs:5,sm:3,md:0}},value:q,onChange:W,"aria-label":"Product details tabs",children:[(0,j.jsx)(d.Z,{tabIndex:0,type:"button",label:"Details"}),(0,j.jsx)(d.Z,{tabIndex:1,type:"button",label:"Related"}),(0,j.jsx)(d.Z,{tabIndex:3,type:"button",label:"Specs"})]})}),(0,j.jsxs)(i.Z,{height:"320px",sx:{},children:[(0,j.jsx)(y,{value:q,index:0,children:(0,j.jsx)(i.Z,{sx:{overflow:"auto",height:"200px",border:.1,p:2,boxShadow:" 1px 4px 6px -1px rgba(0, 0, 0, 0.2);"},children:(0,j.jsx)("span",{className:"quickview-description",children:S.description})})}),(0,j.jsx)(y,{value:q,index:1,children:D.map((e=>(0,j.jsxs)(i.Z,{onClick:()=>C(e),className:"quickview-related-container",children:[" ",(0,j.jsx)("img",{className:"quickview-related-img",alt:"related",src:"".concat(e.imgSource[0].url)}),(0,j.jsx)(i.Z,{variant:"button",children:(0,j.jsx)(i.Z,{className:"quickview-related-name",children:e.name})})]},e._id)))}),(0,j.jsx)(y,{value:q,index:2,children:S.specs})]}),(0,j.jsxs)(i.Z,{className:"quickview-price",children:["Price: $",S.price]}),(0,j.jsxs)(i.Z,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"start",flexDirection:{xs:"column",sm:"row"}},children:[(0,j.jsxs)(u.Z,{sx:{ml:3,mb:1,mr:4},children:[(0,j.jsx)(x.Z,{name:"quantity-label",id:"quantity-label",children:"Qty"}),(0,j.jsx)(m.Z,{labelId:"quantity-label",id:"quantity-select",name:"quantity-select",sx:{width:"100px",borderRadius:0},value:E,onChange:e=>H(Number(e.target.value)),label:"Qty",defaultValue:1,children:[...Array(10).keys()].map((e=>(0,j.jsx)(h.Z,{value:e+1,children:e+1},e+1)))})]}),(0,j.jsxs)(u.Z,{sx:{width:"280px",ml:{xs:3,sm:0}},children:[(0,j.jsx)(x.Z,{id:"flavor-label",name:"flavor-label",children:"Flavor"}),(0,j.jsx)(m.Z,{labelId:"flavor-label",id:"flavor-select",name:"flavor-select",sx:{borderRadius:0},value:B,onChange:e=>L(e.target.value),label:"Flavor",children:S.flavor.split(",").map(((e,t)=>(0,j.jsx)(h.Z,{value:e.trim(),children:e.trim()},t)))})]})]}),(0,j.jsx)(i.Z,{children:(0,j.jsx)(p.Z,{variant:"outlined",className:"shop-button-cart",sx:{ml:3,border:1,borderRadius:0,height:55,letterSpacing:2,fontSize:12,color:"white",backgroundColor:"#283047",borderColor:"#283047",borderWidth:1.5,transition:"all 0.3s","&:hover":{backgroundColor:"#FE6F49",color:"white",borderColor:"#FE6F49",transform:"scale(1.05)"}},onClick:()=>M(S,E),children:"Add to Cart"})})]})]})}):null})})}}}]);
//# sourceMappingURL=95.c6905166.chunk.js.map