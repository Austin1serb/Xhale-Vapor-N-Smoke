"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[84],{4084:function(e,r,t){t.r(r);var s=t(4165),n=t(1413),a=t(5861),o=t(9439),u=t(2791),c=t(7689),i=t(890),d=t(7391),l=t(4294),p=t(3239),f=t(184);r.default=function(){(0,u.useEffect)((function(){document.title="Reset Your Password - Herba Naturals Account Assistance",document.querySelector('meta[name="description"]').setAttribute("content","Easily reset your Herba Naturals account password. Secure and efficient password recovery for uninterrupted access to our CBD products.")}),[]);var e=(0,u.useState)(""),r=(0,o.Z)(e,2),t=r[0],m=r[1],h=(0,u.useState)(""),w=(0,o.Z)(h,2),x=w[0],b=w[1],Z=(0,u.useState)(""),g=(0,o.Z)(Z,2),y=g[0],v=g[1],k=(0,u.useState)(!1),P=(0,o.Z)(k,2),j=P[0],S=P[1],C=(0,u.useState)({}),E=(0,o.Z)(C,2),T=E[0],A=E[1],N=(0,u.useState)(!1),W=(0,o.Z)(N,2),q=W[0],D=W[1],O=(0,c.UO)().token,R=(0,c.s0)(),B=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),v(""),A({}),!(t.length<8)){e.next=8;break}return A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:"Password must be at least 8 characters long"})})),e.abrupt("return");case 8:if(/[A-Z]/.test(t)&&/[0-9]/.test(t)){e.next=11;break}return A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{password:"Password must contain at least one uppercase letter, and one number"})})),e.abrupt("return");case 11:if(t===x){e.next=14;break}return A((function(e){return(0,n.Z)((0,n.Z)({},e),{},{confirmPassword:"Passwords do not match"})})),e.abrupt("return");case 14:return e.prev=14,S(!0),e.next=18,fetch("http://localhost:8000/api/reset-password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:O,password:t})});case 18:return a=e.sent,e.next=21,a.json();case 21:if(o=e.sent,S(!1),!a.ok){e.next=29;break}v("Password has been reset successfully!"),D(!0),setTimeout((function(){return R("/login")}),2e3),e.next=32;break;case 29:throw A({password:o.message||"Error occurred"}),new Error(o.message||"Error occurred");case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(14),S(!1),D(!1),A({password:e.t0.message||"Error occurred"});case 39:case"end":return e.stop()}}),e,null,[[14,34]])})));return function(r){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",maxWidth:"400px",margin:"auto",marginTop:"50px",marginBottom:"50px"},children:[(0,f.jsx)(i.Z,{variant:"h5",component:"h1",align:"center",children:"Reset Password"}),(0,f.jsxs)("form",{onSubmit:B,children:[(0,f.jsx)(d.Z,{name:"password",label:"New Password",type:"password",value:t,onChange:function(e){return m(e.target.value)},fullWidth:!0,margin:"normal",required:!0,error:!!T.password,helperText:T.password}),(0,f.jsx)(d.Z,{name:"confirmPassword",label:"Confirm Password",type:"password",value:x,onChange:function(e){return b(e.target.value)},fullWidth:!0,margin:"normal",required:!0,error:!!T.confirmPassword,helperText:T.confirmPassword}),(0,f.jsx)(l.Z,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",disabled:j||!!q,sx:{mt:2,height:"50px"},children:j?(0,f.jsx)(p.Z,{size:24}):"Reset Password"}),y&&(0,f.jsx)(i.Z,{style:{color:"#30842E"},mt:2,children:y})]})]})}}}]);
//# sourceMappingURL=84.cb174abf.chunk.js.map